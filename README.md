# üöÄ –ß–µ–ª–ª–µ–Ω–¥–∂ –ø–æ TanStack Query –æ—Ç UlbiTv

–í —Ä–∞–º–∫–∞—Ö —á–µ–ª–ª–µ–Ω–¥–∂–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É —Å —Å–µ—Ä–≤–µ—Ä–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **TanStack Query**.

---

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- üîÑ **Infinite Query**  
  –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ  
  (—Å –ø–µ—Ä–≤—ã–º —Å–µ—Ä–≤–µ—Ä–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º –∏ `initialData` –¥–ª—è TanStack Query)

- ‚ö° **Optimistic Update**  
  –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞

- üßπ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–µ–º:
    - `cancelQueries`
    - `removeQueries`
    - `refetchQueries`
    - `invalidateQueries`

- üéØ `select` –ø—Ä–æ–ø—Å  
  –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–∞–ø—Ä–æ—Å–∞

- ‚è± –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ –¥–∞–Ω–Ω—ã—Ö:
    - `staleTime`
    - `gcTime`

---

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend

- ‚öõ **Next.js 16**
- üé® **Shadcn UI**
- üì° **TanStack Query**
- ‚ö° **FSD**

### Backend

- üê± **NestJS**
- üß¨ **Prisma**
- üêò **PostgreSQL**
- ‚ö° **Redis**

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

## Backend

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ backend –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –ø–æ –ø—Ä–∏–º–µ—Ä—É:

```env
DATABASE_URL="postgresql://postgres:root@localhost:5433/tanstack_challenge?schema=public"
POSTGRES_DB=tanstack_challenge
POSTGRES_USER=postgres
POSTGRES_PASSWORD=root
REDIS_HOST=localhost
PORT=4000
CLIENT_URL=http://localhost:3000
```

### 2. –ü–æ–¥–Ω—è—Ç—å PostgreSQL –∏ Redis

üîπ –õ–æ–∫–∞–ª—å–Ω–æ

- (—á–µ—Ä–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ PostgreSQL –∏ Redis)

üîπ –î–æ–∫–µ—Ä:

```bash
docker compose up -d
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å

```bash
npm run start:dev
```

## Frontend:

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ backend –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –ø–æ –ø—Ä–∏–º–µ—Ä—É:

```env
NEXT_PUBLIC_API_URL=http://localhost:4000/api
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å

```bash
npm run :dev
```
